package DiamonShop.Service.User;

import DiamonShop.Dto.PaginationDto;

public class PaginationServiceImpl implements PaginationService{

	public PaginationDto getDataByPagination(int totalData, int limit, int currentPage) {
		PaginationDto paginationDto = new PaginationDto();
		
		paginationDto.setLimit(limit);
		paginationDto.setTotalPage(getTotalPage(totalData, limit));
		paginationDto.setCurrentPage(checkCurrentPage(currentPage, paginationDto.getTotalPage()));
		paginationDto.setStart(getStartIndexData(paginationDto.getCurrentPage(), limit));
		paginationDto.setEnd(getEndIndexData(paginationDto.getStart(), totalData, limit));
		
		return paginationDto;
	}

	private int getEndIndexData(int start, int totalData, int limit) {
		return start + limit > totalData ? totalData : start + limit;
	}

	private int getStartIndexData(int currentPage, int limit) {
		return ((currentPage - 1) * limit) + 1 ;
	}

	private int checkCurrentPage(int currentPage, int totalPage) {
		return currentPage < 0 ? 1 : currentPage > totalPage ? totalPage : currentPage ;
	}

	private int getTotalPage(int totalData, int limit) {
		return totalData % limit == 0 ? totalData/limit : totalData/limit + 1;
	}

}
