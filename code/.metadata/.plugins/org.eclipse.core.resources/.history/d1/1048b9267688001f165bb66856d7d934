package DiamonShop.Dao;

import java.util.ArrayList;
import java.util.List;

import org.springframework.stereotype.Repository;

import DiamonShop.Dto.ProductsDto;
import DiamonShop.Dto.ProductsDtoMapper;

@Repository
public class ProductsDao extends BaseDao {
	public List<ProductsDto> getDataSlices() {
		List<ProductsDto> list = new ArrayList<ProductsDto>();

		String sql = "SELECT \r\n" + "p.id as id_product, \r\n" + "p.id_category, \r\n" + "p.sizes, \r\n"
				+ "p.name as name_product, \r\n" + "p.price, \r\n" + "p.sale, \r\n" + "p.title, \r\n"
				+ "p.highlight, \r\n" + "p.new_product, \r\n" + "p.details, \r\n" + "p.created_at, \r\n"
				+ "p.updated_at,\r\n" + "c.id as id_color,\r\n" + "c.name as name_color,\r\n"
				+ "c.code as code_color,\r\n" + "c.img\r\n" + "from products p \r\n"
				+ "INNER JOIN colors c ON p.id = c.id_product\r\n" + "";
		list = _jdbcTemplate.query(sql, new ProductsDtoMapper());

		return list;
	}

}
